<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>充值送券活动</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="author" content="">
	<meta name="Copyright" content="">
	<meta name="Keywords" content="">
	<meta name="Description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="format-detection" content="telephone=no">
	<!-- style base -->
	<link rel="stylesheet" href="../../css/base.css">
	<!-- style common -->
	<link rel="stylesheet" href="../../css/common.css">
	<!-- style layout -->
	<link rel="stylesheet" href="../../css/layout_recharge2.css">
	
</head>
<body>
	<div class="viewport v-recharge">
		<!-- 倒计时 -->
		<div class="time-wrap">
			<div class="time-inner" id="countDown" data-start-time="2016/3/20 22:00:00" data-end-time="2016/3/22 00:00:00">
				<span class="day">05</span>
				<span class="hour">58</span>
				<span class="min">32</span>
				<span class="sec">32</span>
			</div>
		</div>
		<!-- 弹幕框 -->
		<div class="marquee-wrap">
			<div class="marquee-inner">
				<div id="marquee1" class="w-marquee">
					<ul>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
					</ul>
				</div>
				<div id="marquee2" class="w-marquee">
					<ul>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
					</ul>
				</div>
				<div id="marquee3" class="w-marquee">
					<ul>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
					</ul>
				</div>
				<div id="marquee4" class="w-marquee">
					<ul>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
						<li>猫星人 成功充值<strong>100元</strong> 赠送<strong>5元</strong></li>
					</ul>
				</div>
			</div>
		</div>
		<!-- 活动内容 -->
		<div class="activity-content">
			<!-- 充值链接 -->
			<a href="#" class="voucher-link voucher-link-other"></a>
			<a href="#" class="voucher-link voucher-link100"></a>
			<a href="#" class="voucher-link voucher-link50"></a>
			<a href="#" class="voucher-link voucher-link30"></a>
			<!-- 规则 -->
			<div class="rules-content">
				<h3 class="title">活动时间</h3>
				<p>9月21日10:00-9月21日22:00</p>
				<h3 class="title">活动规则</h3>
				<p>
				1.活动期间，“百分好礼”单次充值送券：<br>
				    满30送1张，满50送2张，满100送5张，100元<br>
				    以上的按充值金额的5%赠送。<br>
				2.本活动为百分好礼充值送券活动，不是充话费等其他活动，充值成功后，不予以退款。<br>
				3.法律范围内，百分好礼拥有最终解释权。
			</div>	
		</div>
	</div>
	<!-- jquery lib script -->
	<script type="text/javascript" src="../../js/jquery-2.1.4.min.js"></script>
	<!-- jquery marquee script -->
	<script type="text/javascript" src="../../js/jquery.marquee.js"></script>
	<script>
		
		$(function(){

 			// barrage 			
			var aMarquee = $('.w-marquee');
			var aMarP = $('.w-marquee li');
			aMarP.each(function(){
				var randomNum = parseInt(Math.random()*(100-20+1) + 20);
				$(this).css('margin-right', randomNum);
			});
			aMarquee.each(function(){
				var _this = $(this);
				if (_this.index() % 2 == 0) {
					_this.marquee({
						duration: 15000,
						duplicated: true,
						delayBeforeStart: 2000
					});
				} else {
					_this.marquee({
						duration: 15000,
						duplicated: true
					});					
				}
			});

			// countDown		
		    var ele = $('#countDown');
		    var leftTime = (new Date(ele.attr('data-end-time')).getTime() - new Date(ele.attr('data-start-time')).getTime())/1000; 
		    countDown(ele, leftTime);


		    function countDown(ele, time) {
		        var el = ele;
		        var timer = null;
		        function getTimerString(time) {   
		                d = Math.floor(time / 86400),     
		                h = Math.floor((time % 86400) / 3600),     
		                m = Math.floor(((time % 86400) % 3600) / 60),     
		                s = Math.floor(((time % 86400) % 3600) % 60); 

		            /*if (d >= 1) {
		            	h = 24 + h;
		            }*/
		            if (time>0) {
		                rootHtml(d, h, m, s);
		            } else {
		                clearInterval(timer);
		                rootHtml(0, 00, 00, 00);
		            }   
		        } 

		        function parseFn() {
		            getTimerString(time-=1); 
		        }  

		        function rootHtml() {
		            var countDownObj = $(el);
		            var day = countDownObj.find('.day'),
		            	hour = countDownObj.find('.hour'),
		                min = countDownObj.find('.min'),
		                sec = countDownObj.find('.sec');

		            day.html(toDouble(arguments[0]));
		            hour.html(toDouble(arguments[1])); 
		            min.html(toDouble(arguments[2]));
		            sec.html(toDouble(arguments[3])); 
		        } 
		        timer = setInterval(function(){
		            parseFn();
		        },1000);    
		        var toDouble = function(num){
		            return num < 10 ? '0'+num : num;
		        };
		        parseFn();
		    }

		});
	</script>
</body>
</html>